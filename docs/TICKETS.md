# –¢–∏–∫–µ—Ç—ã –∏ –∑–∞–¥–∞—á–∏ PortOps MVP

## EPIC-ENV ‚Äî –°—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### ENV-001 ¬∑ Bootstrap repo
**–°—Ç–∞—Ç—É—Å**: üöß –í —Ä–∞–±–æ—Ç–µ  
**Milestone**: A  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–Ω–æ—Ä–µ–ø–æ —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

**Tasks**:
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å pnpm workspace –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫: `apps/web`, `packages/shared`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π `package.json` –≤ –∫–æ—Ä–Ω–µ

**Acceptance Criteria**:
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `pnpm install` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –º–æ–Ω–æ—Ä–µ–ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pnpm-workspace.yaml` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ workspace

---

### ENV-002 ¬∑ Next 15 app
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: A  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ Next.js 15 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–µ–∫–æ–º

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å Next.js 15 app —Å TypeScript
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å App Router
- [ ] –î–æ–±–∞–≤–∏—Ç—å Tailwind CSS
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ESLint –∏ –±–∞–∑–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**Acceptance Criteria**:
- [ ] `pnpm dev` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ `http://localhost:3000`
- [ ] Tailwind —Å—Ç–∏–ª–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `create-next-app@latest` —Å —Ñ–ª–∞–≥–∞–º–∏ `--ts --eslint --src-dir --app --tailwind --use-pnpm`

---

### ENV-003 ¬∑ Supabase local+link
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: A  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏ –æ–±–ª–∞—á–Ω–æ–≥–æ Supabase

**Tasks**:
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Supabase CLI
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (`supabase init`)
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–∫ (`supabase start`)
- [ ] –°–≤—è–∑–∞—Ç—å —Å –æ–±–ª–∞—á–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º (`supabase link --project-ref`)

**Acceptance Criteria**:
- [ ] Supabase Studio –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] CLI –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Å–≤—è–∑–∞–Ω —Å –æ–±–ª–∞—á–Ω—ã–º

**Notes**: –¢—Ä–µ–±—É–µ—Ç—Å—è Docker Desktop –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Supabase

---

### ENV-004 ¬∑ Env vars
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: A  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å `.env.local` –≤ `apps/web/`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Supabase
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ Vercel
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å INGEST_SECRET

**Acceptance Criteria**:
- [ ] –ù–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ undefined env –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- [ ] –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [ ] –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π –±–∞–Ω–¥–ª

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `openssl rand -hex 32` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ INGEST_SECRET

---

## EPIC-DB ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### DB-001 ¬∑ Core schema
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: B  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤: `shipping_lines`, `terminals`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã raw/staging: `raw_arrivals`, `stg_voyages`, `stg_containers`
- [ ] –°–æ–∑–¥–∞—Ç—å core —Ç–∞–±–ª–∏—Ü—ã: `voyages`, `containers`, `container_events`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∑–∞–∫–∞–∑–æ–≤: `orgs`, `orders`, `order_items`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**Acceptance Criteria**:
- [ ] –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ Supabase
- [ ] –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ –º–µ—Å—Ç–µ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `\d+`)
- [ ] –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQL –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 2 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

### DB-002 ¬∑ Materialized views + RPC
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: B  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ RPC —Ñ—É–Ω–∫—Ü–∏–π

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å `mv_upcoming_voyages`
- [ ] –°–æ–∑–¥–∞—Ç—å `mv_dwell`
- [ ] –°–æ–∑–¥–∞—Ç—å RPC —Ñ—É–Ω–∫—Ü–∏–∏ `refresh_mv_upcoming()`, `refresh_mv_dwell()`
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è MV

**Acceptance Criteria**:
- [ ] `SELECT * FROM mv_upcoming_voyages` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏
- [ ] `SELECT * FROM mv_dwell` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏
- [ ] `SELECT refresh_mv_upcoming()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

**Notes**: MV –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ RPC —Ñ—É–Ω–∫—Ü–∏–∏

---

### DB-003 ¬∑ RLS policies
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: B  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Row Level Security –¥–ª—è –º–Ω–æ–≥–æ—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç–∏

**Tasks**:
- [ ] –í–∫–ª—é—á–∏—Ç—å RLS –Ω–∞ —Ç–∞–±–ª–∏—Ü–∞—Ö `orders`, `order_items`
- [ ] –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è SELECT, INSERT, UPDATE –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª—è—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏

**Acceptance Criteria**:
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –∏–Ω—ã–º org_id –Ω–µ –≤–∏–¥–∏—Ç —á—É–∂–∏–µ –∑–∞–∫–∞–∑—ã
- [ ] –ü–æ–ª–∏—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –≤—Å–µ—Ö CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏

**Notes**: –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è org_id –≤ JWT (user metadata ‚Üí JWT enrichment)

---

### DB-004 ¬∑ Seeds
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: B  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

**Tasks**:
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `shipping_lines` (MSC, Maersk)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `terminals` (LAX-T1, LGB-T2)
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–µ–º–æ —Ä–µ–π—Å—ã –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Dashboard

**Acceptance Criteria**:
- [ ] Dashboard —Ä–µ–Ω–¥–µ—Ä–∏—Ç KPI –∏ —Å–ø–∏—Å–æ–∫ —Ä–µ–π—Å–æ–≤
- [ ] –î–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ï—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ON CONFLICT DO NOTHING` –¥–ª—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

---

## EPIC-INGEST ‚Äî –ò–Ω–∂–µ—Å—Ç –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

### ING-001 ¬∑ Edge: ingest-arrivals
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: C  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ Edge Function –¥–ª—è –ø—Ä–∏—ë–º–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–µ–π—Å–∞—Ö

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `ingest-arrivals`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É INGEST_SECRET
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É CSV –∏ JSON —Ñ–æ—Ä–º–∞—Ç–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ `raw_arrivals`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏

**Acceptance Criteria**:
- [ ] `curl -H "Authorization: Bearer ..."` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ok:true}`
- [ ] –ó–∞–ø–∏—Å–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ `raw_arrivals`
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Deno runtime, –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å Authorization header

---

### ING-002 ¬∑ Normalize ‚Üí stg
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: C  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ staging —Ç–∞–±–ª–∏—Ü—ã

**Tasks**:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ CSV/JSON
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –∫–æ–¥–æ–≤ (UTC, scac, terminal_code)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å upsert –≤ `stg_voyages`, `stg_containers`
- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π

**Acceptance Criteria**:
- [ ] –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã
- [ ] –î–∞–Ω–Ω—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ON CONFLICT` –¥–ª—è upsert –æ–ø–µ—Ä–∞—Ü–∏–π

---

### ING-003 ¬∑ Upsert core
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: C  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ core —Ç–∞–±–ª–∏—Ü –∏–∑ staging

**Tasks**:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å upsert –≤ `voyages` (–ø–æ –∫–ª—é—á—É voyage_no + line_id + terminal_id)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å upsert –≤ `containers` (–ø–æ cntr_no)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å–≤—è–∑—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å —Ä–µ–π—Å–∞–º–∏

**Acceptance Criteria**:
- [ ] –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Ä–µ–π—Å–∞–º
- [ ] –ò–Ω–¥–µ–∫—Å—ã –∑–∞–¥–µ–π—Å—Ç–≤—É—é—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
- [ ] –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å foreign keys –¥–ª—è —Å–≤—è–∑–µ–π

---

### ING-004 ¬∑ Metrics & errors
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: C  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

**Tasks**:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ `ingest_metrics`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ `ingest_errors`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å—á—ë—Ç —Å—Ç—Ä–æ–∫ –∏ –æ—à–∏–±–æ–∫
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ—Ç—Ä–∏–∫

**Acceptance Criteria**:
- [ ] –ü—Ä–∏ –æ—à–∏–±–æ—á–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö —Ä–∞—Å—Ç—É—Ç counters
- [ ] Error-–∑–∞–ø–∏—Å–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç payload
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**Notes**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è MVP, –Ω–æ –≤–∞–∂–Ω–æ –¥–ª—è production

---

## EPIC-UI ‚Äî –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Next 15)

### UI-001 ¬∑ Supabase clients
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: D  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ Supabase –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å `lib/supabase/browser.ts` (SSR cookies)
- [ ] –°–æ–∑–¥–∞—Ç—å `lib/supabase/server.ts`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å RLS –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

**Acceptance Criteria**:
- [ ] –ó–∞–ø—Ä–æ—Å—ã –∫ mv_* –∏ —Ç–∞–±–ª–∏—Ü–∞–º —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–¥ RLS
- [ ] SSR —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@supabase/ssr` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å SSR

---

### UI-002 ¬∑ Dashboard
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: D  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å KPI –∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å `app/page.tsx`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã KPI
- [ ] –°–æ–∑–¥–∞—Ç—å `UpcomingTable` –¥–ª—è —Ä–µ–π—Å–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å `DwellChart` –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ dwell
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ MV

**Acceptance Criteria**:
- [ ] –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è KPI
- [ ] –¢–∞–±–ª–∏—Ü–∞ –±–ª–∏–∂–∞–π—à–∏—Ö —Ä–µ–π—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ì—Ä–∞—Ñ–∏–∫ dwell –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ (<1s)

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Server Components –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

---

### UI-003 ¬∑ Arrivals list & details
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: D  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø–∏—Å–∫–∞ —Ä–µ–π—Å–æ–≤ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å `arrivals/page.tsx` —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `arrivals/[voyageId]/page.tsx`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–µ, —Ç–µ—Ä–º–∏–Ω–∞–ª—É, –ª–∏–Ω–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Ä–µ–π—Å–∞

**Acceptance Criteria**:
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å server-side —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

### UI-004 ¬∑ Containers search
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: D  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–æ –Ω–æ–º–µ—Ä—É –∏ BOL

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å `containers/page.tsx`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ —Å debounce
- [ ] –î–æ–±–∞–≤–∏—Ç—å server-side query
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**Acceptance Criteria**:
- [ ] –ü–æ–∏—Å–∫ –ø–æ cntr_no/bill_of_lading –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å–∏
- [ ] Debounce —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å debounce –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

---

### UI-005 ¬∑ Orders list/new/detail
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: E  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ —Å Server Actions

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã `orders/*`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Server Actions `createOrder`, `addOrderItems`
- [ ] –î–æ–±–∞–≤–∏—Ç—å bulk paste —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

**Acceptance Criteria**:
- [ ] –°–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–∫–∞–∑
- [ ] Bulk paste –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–∑–∏—Ü–∏–∏
- [ ] –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Server Actions –¥–ª—è –º—É—Ç–∞—Ü–∏–π –¥–∞–Ω–Ω—ã—Ö

---

## EPIC-ACTIONS ‚Äî Server Actions & Mutations

### ACT-001 ¬∑ createOrder
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: E  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: Server Action –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å `actions/orders.ts`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é `order_no`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É `orders`
- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å RLS

**Acceptance Criteria**:
- [ ] –ü—Ä–∏ –≤–∞–ª–∏–¥–Ω–æ–º order_no –∑–∞–ø–∏—Å—å —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ orders
- [ ] RLS –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å org_id
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `revalidatePath` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

---

### ACT-002 ¬∑ addOrderItems (bulk)
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: E  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: Server Action –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π

**Tasks**:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ —Å—Ç—Ä–æ–∫–∞–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤—Å—Ç–∞–≤–∫—É –≤ `order_items`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∞
- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å

**Acceptance Criteria**:
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ –ø–æ —Å—Ç—Ä–æ–∫–∞–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å—Ç–∞–≤–∫–∞ order_items –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

**Notes**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π

---

## EPIC-CRON ‚Äî –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏

### CRON-001 ¬∑ Vercel Cron ‚Üí refresh
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: F  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å `api/cron/refresh/route.ts`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤ RPC —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ Vercel
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**Acceptance Criteria**:
- [ ] MV –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- [ ] –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Notes**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ –∫–∞–∂–¥—ã–µ 5-10 –º–∏–Ω—É—Ç

---

## EPIC-SEC ‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### SEC-001 ¬∑ Secrets hygiene
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: A  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤

**Tasks**:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ SERVICE_ROLE_KEY –≤ –∫–ª–∏–µ–Ω—Ç–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ INGEST_SECRET –≤ –∫–ª–∏–µ–Ω—Ç–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ Edge/Route —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Acceptance Criteria**:
- [ ] SERVICE_ROLE_KEY/INGEST_SECRET –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ Edge/Route —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤

**Notes**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

### SEC-002 ¬∑ Read-only views (optional)
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: G  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –¥–ª—è —á—Ç–µ–Ω–∏—è

**Tasks**:
- [ ] –°–æ–∑–¥–∞—Ç—å read-only views –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ò—Å–∫–ª—é—á–∏—Ç—å PII –¥–∞–Ω–Ω—ã–µ

**Acceptance Criteria**:
- [ ] –ü—É–±–ª–∏—á–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ PII
- [ ] –î–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**Notes**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è MVP

---

## EPIC-OBS ‚Äî –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

### OBS-001 ¬∑ Log ingestion
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: C  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω–∂–µ—Å—Ç–∞

**Tasks**:
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫/–æ—à–∏–±–æ–∫
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É admin –¥–ª—è –º–µ—Ç—Ä–∏–∫
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**Acceptance Criteria**:
- [ ] –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫/–æ—à–∏–±–æ–∫
- [ ] –ï—Å—Ç—å –ø—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ admin –¥–ª—è –º–µ—Ç—Ä–∏–∫
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç

**Notes**: –í–∞–∂–Ω–æ –¥–ª—è production, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP

---

### OBS-002 ¬∑ No-data alert (stub)
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: F  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**Tasks**:
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–≤–µ–∂–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –≤ UI
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å badge ¬´Data stale > N hours¬ª
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–≤–µ–∂–∏—Ö –∑–∞–ø–∏—Å–µ–π –≤ raw_arrivals

**Acceptance Criteria**:
- [ ] UI badge –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**Notes**: –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è MVP

---

## EPIC-QA ‚Äî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### QA-001 ¬∑ Unit: parsers
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: G  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: Unit —Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**Tasks**:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Vitest
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è CSV –ø–∞—Ä—Å–µ—Ä–∞
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è JSON –ø–∞—Ä—Å–µ—Ä–∞
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä–∞

**Acceptance Criteria**:
- [ ] Vitest –ø–æ–∫—Ä—ã–≤–∞–µ—Ç CSV/JSON –ø–∞—Ä—Å–µ—Ä
- [ ] –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

**Notes**: –í–∞–∂–Ω–æ –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö

---

### QA-002 ¬∑ E2E (optional)
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: G  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Playwright

**Tasks**:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Playwright
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π: —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ ‚Üí bulk ‚Üí —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

**Acceptance Criteria**:
- [ ] Playwright —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] E2E —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω–æ–π flow
- [ ] CI/CD —Ä–∞–±–æ—Ç–∞–µ—Ç

**Notes**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è MVP, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è production

---

## EPIC-DOCS ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### DOC-001 ¬∑ README: –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**Milestone**: A  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**Tasks**:
- [x] –°–æ–∑–¥–∞—Ç—å README.md —Å –æ–±–∑–æ—Ä–æ–º
- [x] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [x] –û–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- [x] –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**Acceptance Criteria**:
- [x] README —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- [x] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] –ö–æ–º–∞–Ω–¥—ã –æ–ø–∏—Å–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Notes**: –£–∂–µ —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

---

### DOC-002 ¬∑ OPS.md: –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: G  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º

**Tasks**:
- [ ] –û–ø–∏—Å–∞—Ç—å –∫–∞–∫ —Ä–µ—Ñ—Ä–µ—à–∏—Ç—å MV
- [ ] –û–ø–∏—Å–∞—Ç—å –≥–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
- [ ] –û–ø–∏—Å–∞—Ç—å –∫–∞–∫ –∫–∞—Ç–∏—Ç—å —Å–∏–¥—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å troubleshooting

**Acceptance Criteria**:
- [ ] OPS.md —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ–Ω—è—Ç–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Troubleshooting –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**Notes**: –í–∞–∂–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–∏—Å—Ç–µ–º—ã

---

### DOC-003 ¬∑ INGEST.md: —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**Milestone**: C  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ñ–æ—Ä–º–∞—Ç–∞–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–Ω–∂–µ—Å—Ç–∞

**Tasks**:
- [ ] –û–ø–∏—Å–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç CSV/JSON
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –û–ø–∏—Å–∞—Ç—å dry-run —Ä–µ–∂–∏–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã curl –∫–æ–º–∞–Ω–¥

**Acceptance Criteria**:
- [ ] INGEST.md —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã
- [ ] –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Dry-run –æ–ø–∏—Å–∞–Ω

**Notes**: –í–∞–∂–Ω–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
